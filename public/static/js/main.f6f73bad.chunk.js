(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){e.exports=a(200)},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},176:function(e,t,a){},198:function(e,t,a){},200:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(53),i=a.n(c),l=a(20),s=a(1),o=a(2),u=a(6),m=a(5),p=a(7),d=a(36),h=a(41),E=a(19),g=Object(E.b)(function(e){return{user:e.user.user}},null)(function(e){var t=e.component,a=e.user,n=Object(h.a)(e,["component","user"]);return a?console.log(a.username):console.log("no hay user"),r.a.createElement(d.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),f=a(21),v=a.n(f),b=a(29),N=a(34),y=a.n(N),O=new(function(){function e(){Object(s.a)(this,e),this.auth=y.a.create({baseURL:"https://werifs.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password,n=e.adress,r=e.phone,c=e.email;return this.auth.post("/auth/signup",{username:t,password:a,adress:n,phone:r,email:c}).then(function(e){return e.data})}},{key:"update",value:function(e){var t=e.username,a=e.password,n=e.adress,r=e.phone,c=e.email,i=e.imageUrl;return this.auth.put("/profile/",{username:t,password:a,adress:n,phone:r,email:c,imageUrl:i}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then(function(e){return e.data})}},{key:"me",value:function(){var e=Object(b.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.get("/auth/me");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}()),C=a(113),w=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{css:{display:"block",margin:"0 auto",padding:"50px"},size:200,color:"#a4d0ff",loading:!0}))}}]),t}(n.Component),j=function(){return function(e){return O.me().then(function(t){e({type:"SET_USER",payload:t.data})})}},k=r.a.createContext(),S=k.Provider,P=k.Consumer,x=function(e){return function(t){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(P,null,function(a){return r.a.createElement(e,Object.assign({isLogged:a.isLogged,isAdmin:a.isAdmin,user:a.user,logout:a.logout,login:a.login,signup:a.signup,update:a.update},t.props))})}}]),a}(n.Component)},U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLogged:!1,isAdmin:!1,user:{},status:"loaded"},a.setUser=function(e){e.admin?a.setState({isLogged:!0,isAdmin:!0,user:e}):a.setState({isLogged:!0,user:e})},a.logoutUser=function(){return O.logout().then(function(){a.setState({isLogged:!1,user:{},isAdmin:!1})}).catch(function(e){return console.log(e)})},a.loginUser=function(e){return O.login(e).then(function(e){a.setUser(e)}).catch(function(e){return e.response})},a.signupUser=function(e){return O.signup(e).then(function(e){a.setUser(e)}).catch(function(e){return e.response})},a.updateUser=function(e){return O.update(e).then(function(e){a.setUser(e)}).catch(function(e){return console.log(e)})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("cdm authprovider"),O.me().then(function(t){e.props.setUser(t.data)}).catch(function(t){e.setState({isLogged:!1,user:{},status:"loaded"})})}},{key:"render",value:function(){var e=this.state,t=e.isLogged,a=e.isAdmin,n=e.user,c=e.status,i=this.props.children;switch(c){case"loading":return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null));default:return r.a.createElement(S,{value:{isLogged:t,user:n,isAdmin:a,logout:this.logoutUser,login:this.loginUser,signup:this.signupUser,update:this.updateUser}},i)}}}]),t}(n.Component),A=(Object(E.b)(null,{setUser:j})(U),Object(E.b)(function(e){return{user:e.user.user}},null)(function(e){var t=e.component,a=e.user,n=Object(h.a)(e,["component","user"]);return console.log("anonRoute"),console.log(a),r.a.createElement(d.b,Object.assign({},n,{render:function(e){return 0===a.length?r.a.createElement(t,e):r.a.createElement(d.a,{to:{pathname:"/private",state:{from:e.location}}})}}))})),I=Object(E.b)(function(e){return{user:e.user.user}},null)(function(e){var t=e.component,a=e.user,n=Object(h.a)(e,["component","user"]);return console.log(a),r.a.createElement(d.b,Object.assign({},n,{render:function(e){return a.isAdmin?r.a.createElement(t,e):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),L=a(37),D=(a(150),new(function(){function e(){Object(s.a)(this,e),this.participation=y.a.create({baseURL:"https://werifs.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"list",value:function(){return this.participation.get("/participation/").then(function(e){return e.data})}},{key:"create",value:function(e){var t=e.idCar,a=e.numParticipations;return this.participation.post("/participation/create",{idCar:t,numParticipations:a}).then(function(e){return e.data})}},{key:"update",value:function(e){var t=e._id,a=e.position;return this.participation.put("/participation/",{_id:t,position:a}).then(function(e){return e.data})}},{key:"delete",value:function(e){return this.participation.post("/participation/delete",{_id:e}).then(function(e){return e})}}]),e}())),_=r.a.createContext(),T=function(e){return function(t){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(_.Consumer,null,function(a){return r.a.createElement(e,Object.assign({participationState:a.participationState,getParticipation:a.getParticipation,addParticipation:a.addParticipation,setAmount:a.setAmount,resetParticipationState:a.resetParticipationState,changeShowCard:a.changeShowCard,changeGameMode:a.changeGameMode,deleteParticipation:a.deleteParticipation,updateParticipation:a.updateParticipation},t.props))})}}]),a}(n.Component)},M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={listParticipation:[],listPaid:[],showCard:!1,gameMode:!1,amount:0},a.getParticipation=function(){return D.list().then(function(e){var t=0,n=e.filter(function(e){return!1===e.paid}),r=e.filter(function(e){return!0===e.paid});n.map(function(e){t+=e.amount}),a.setState({listParticipation:n,listPaid:r,amount:t})}).catch(function(e){return console.log(e)})},a.deleteParticipation=function(e){D.delete(e).then(function(e){a.getParticipation()}).catch(function(e){return console.log(e)})},a.addParticipation=function(e){D.create(e).then(function(e){a.getParticipation(),a.setState({showCard:!0})})},a.updateParticipation=function(e){return D.update(e).then(function(e){a.getParticipation(),a.setState({showCard:!0})}).catch(function(e){return console.log(e)})},a.changeShowCard=function(){a.setState({showCard:!a.state.showCard})},a.changeGameMode=function(){a.setState({gameMode:!a.state.gameMode})},a.setAmount=function(e){a.setState({amount:e})},a.resetParticipationState=function(){a.setState({listParticipation:[],listPaid:[],showCard:!1,gameMode:!1,amount:0})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(_.Provider,{value:{participationState:this.state,getParticipation:this.getParticipation,setAmount:this.setAmount,resetParticipationState:this.resetParticipationState,addParticipation:this.addParticipation,changeShowCard:this.changeShowCard,changeGameMode:this.changeGameMode,updateParticipation:this.updateParticipation,deleteParticipation:this.deleteParticipation}},this.props.children)}}]),t}(n.Component),F=(a(151),a(54)),R=(a(152),a(153),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{disabled:this.props.disabled,value:this.props.value,onClick:this.props.onClick,className:"compButton compButton--".concat(this.props.type)},this.props.text))}}]),t}(n.Component)),B=T(function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(){a.props.deleteParticipation(a.props.part._id)},a.handleClickClose=function(e){a.props.changeShowCard()},a.iconCart=function(){return r.a.createElement("svg",{className:"icon-cart",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 486.569 486.569"},r.a.createElement("g",null,r.a.createElement("path",{d:"M146.069,320.369h268.1c30.4,0,55.2-24.8,55.2-55.2v-112.8c0-0.1,0-0.3,0-0.4c0-0.3,0-0.5,0-0.8c0-0.2,0-0.4-0.1-0.6 c0-0.2-0.1-0.5-0.1-0.7s-0.1-0.4-0.1-0.6c-0.1-0.2-0.1-0.4-0.2-0.7c-0.1-0.2-0.1-0.4-0.2-0.6c-0.1-0.2-0.1-0.4-0.2-0.6 c-0.1-0.2-0.2-0.4-0.3-0.7c-0.1-0.2-0.2-0.4-0.3-0.5c-0.1-0.2-0.2-0.4-0.3-0.6c-0.1-0.2-0.2-0.3-0.3-0.5c-0.1-0.2-0.3-0.4-0.4-0.6 c-0.1-0.2-0.2-0.3-0.4-0.5c-0.1-0.2-0.3-0.3-0.4-0.5s-0.3-0.3-0.4-0.5s-0.3-0.3-0.4-0.4c-0.2-0.2-0.3-0.3-0.5-0.5 c-0.2-0.1-0.3-0.3-0.5-0.4c-0.2-0.1-0.4-0.3-0.6-0.4c-0.2-0.1-0.3-0.2-0.5-0.3s-0.4-0.2-0.6-0.4c-0.2-0.1-0.4-0.2-0.6-0.3 s-0.4-0.2-0.6-0.3s-0.4-0.2-0.6-0.3s-0.4-0.1-0.6-0.2c-0.2-0.1-0.5-0.2-0.7-0.2s-0.4-0.1-0.5-0.1c-0.3-0.1-0.5-0.1-0.8-0.1 c-0.1,0-0.2-0.1-0.4-0.1l-339.8-46.9v-47.4c0-0.5,0-1-0.1-1.4c0-0.1,0-0.2-0.1-0.4c0-0.3-0.1-0.6-0.1-0.9c-0.1-0.3-0.1-0.5-0.2-0.8 c0-0.2-0.1-0.3-0.1-0.5c-0.1-0.3-0.2-0.6-0.3-0.9c0-0.1-0.1-0.3-0.1-0.4c-0.1-0.3-0.2-0.5-0.4-0.8c-0.1-0.1-0.1-0.3-0.2-0.4 c-0.1-0.2-0.2-0.4-0.4-0.6c-0.1-0.2-0.2-0.3-0.3-0.5s-0.2-0.3-0.3-0.5s-0.3-0.4-0.4-0.6c-0.1-0.1-0.2-0.2-0.3-0.3 c-0.2-0.2-0.4-0.4-0.6-0.6c-0.1-0.1-0.2-0.2-0.3-0.3c-0.2-0.2-0.4-0.4-0.7-0.6c-0.1-0.1-0.3-0.2-0.4-0.3c-0.2-0.2-0.4-0.3-0.6-0.5 c-0.3-0.2-0.6-0.4-0.8-0.5c-0.1-0.1-0.2-0.1-0.3-0.2c-0.4-0.2-0.9-0.4-1.3-0.6l-73.7-31c-6.9-2.9-14.8,0.3-17.7,7.2 s0.3,14.8,7.2,17.7l65.4,27.6v61.2v9.7v74.4v66.5v84c0,28,21,51.2,48.1,54.7c-4.9,8.2-7.8,17.8-7.8,28c0,30.1,24.5,54.5,54.5,54.5 s54.5-24.5,54.5-54.5c0-10-2.7-19.5-7.5-27.5h121.4c-4.8,8.1-7.5,17.5-7.5,27.5c0,30.1,24.5,54.5,54.5,54.5s54.5-24.5,54.5-54.5 s-24.5-54.5-54.5-54.5h-255c-15.6,0-28.2-12.7-28.2-28.2v-36.6C126.069,317.569,135.769,320.369,146.069,320.369z M213.269,431.969 c0,15.2-12.4,27.5-27.5,27.5s-27.5-12.4-27.5-27.5s12.4-27.5,27.5-27.5S213.269,416.769,213.269,431.969z M428.669,431.969 c0,15.2-12.4,27.5-27.5,27.5s-27.5-12.4-27.5-27.5s12.4-27.5,27.5-27.5S428.669,416.769,428.669,431.969z M414.169,293.369h-268.1 c-15.6,0-28.2-12.7-28.2-28.2v-66.5v-74.4v-5l324.5,44.7v101.1C442.369,280.769,429.669,293.369,414.169,293.369z"})),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null))},a.handleClick=a.handleClick.bind(Object(F.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"positionList",value:function(){return this.props.part.position.map(function(e,t){return r.a.createElement("li",{key:"id-".concat(t)},"Posici\xf3n: ",e)})}},{key:"totalPrice",value:function(){var e=this,t=this.props.part.idCar,a=t.price1,n=t.price5,c=t.price10,i=this.props.part.amount.length,s=0;return s=i<5?a*i:i<10?n*i:c*i,r.a.createElement("div",null,r.a.createElement("p",{className:"totalPrice"},r.a.createElement("span",null,"Total:")," ",Math.round(100*s)/100,"\u20ac"),r.a.createElement(l.b,{to:{pathname:"/checkout"}},r.a.createElement(R,{text:"Pagar",onClick:function(){e.handleClickClose(s)}})))}},{key:"render",value:function(){var e=this.props.part.idCar,t=e.name,a=e.imageUrl,n=this.props.part,c=n._id,i=n.position,s=n.amount,o=i.length;return r.a.createElement("div",{className:"card-cart-car"},r.a.createElement("div",{className:"card-cart-details flex"},r.a.createElement("div",{className:"card-cart-car-image"},r.a.createElement("img",{src:a,alt:"foto car"})),r.a.createElement("div",{className:"card-cart-car-info"},r.a.createElement("h1",null,t))),0!==o&&r.a.createElement("ul",{className:"card-cart-car-position-list"},this.positionList()),r.a.createElement("div",{className:"card-cart-buttons"},r.a.createElement("div",{onClick:this.handleClick,className:"link-homepage card-cart-buttons-button"},r.a.createElement("p",null,"Borrar")),r.a.createElement(l.b,{className:"link-homepage card-cart-buttons-button",to:{pathname:"/game",state:{_id:c}}},r.a.createElement("p",null,r.a.createElement("span",null,"Jugar"))),s>0&&r.a.createElement(l.b,{className:"link-homepage card-cart-buttons-button border-right--none",to:"/checkout"},r.a.createElement("p",{className:"text-price"},s," \u20ac",this.iconCart())),0===s&&r.a.createElement("div",{className:"card-cart-buttons-button border-right--none"},s," \u20ac")))}}]),t}(n.Component));var q=T(function(e){var t=e.participationState,a=t.showCard,n=t.listParticipation,c=function(){e.changeShowCard()};return r.a.createElement("div",null,r.a.createElement("div",null,a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cartbox"},function(){if(n.length>0)return r.a.createElement("button",{className:"cartbox-button-close",onClick:c},"X")}(),function(){if(n.length>0)return n.map(function(e,t){return r.a.createElement(B,{key:"id-".concat(t),part:e})})}()))))}),G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:[]},a.handleClick=function(){a.props.changeShowCard()},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){console.log(e);var a=e.user;this.setState({user:a})}},{key:"componentDidMount",value:function(){console.log("cdm Navbar"),this.props.setUser(),this.setState({user:this.props.user}),console.log(this.state.user)}},{key:"render",value:function(){console.log(this.state.user);var e=this.state.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar flex navbar-height"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(l.b,{className:"link",to:"/"},r.a.createElement("img",{src:"./images/logo-werifs.png",alt:"foto perfil",className:"navbar-img-profile"}))),0===e.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar-end"},r.a.createElement(l.b,{to:"/login"},r.a.createElement("svg",{className:"icon-login",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512"},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M452,0H60C26.916,0,0,26.916,0,60v80h40V60c0-11.028,8.972-20,20-20h392c11.028,0,20,8.972,20,20v392 c0,11.028-8.972,20-20,20H60c-11.028,0-20-8.972-20-20v-80H0v80c0,33.084,26.916,60,60,60h392c33.084,0,60-26.916,60-60V60 C512,26.916,485.084,0,452,0z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("polygon",{points:"240,131.716 211.716,160 287.716,236 0,236 0,276 287.716,276 211.716,352 240,380.284 364.284,256 \t\t"}))),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-container--nobg"},e.isAdmin&&r.a.createElement(l.b,{id:"link--img",className:"link",to:"/create"},r.a.createElement("img",{className:"navbar-profile-img",src:"./images/add-car.png",alt:""})),r.a.createElement(l.b,{id:"link--img",className:"link",to:"/private"},r.a.createElement("img",{className:"navbar-profile-img",src:e.imageUrl,alt:""}))),r.a.createElement("div",{className:"navbar-container"},r.a.createElement("div",{className:"shopping-cart"},!1,r.a.createElement("i",{onClick:this.handleClick,className:"fas fa-shopping-cart"}))),r.a.createElement(q,null)))))}}]),t}(n.Component),V=Object(E.b)(function(e){return{user:e.user.user}},{setUser:j})(G),z=(a(154),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer margin--top"},r.a.createElement("div",{className:"footer container"},r.a.createElement("div",{className:"footer-section"},r.a.createElement("div",{className:"footer-wrapper"},r.a.createElement("div",{className:"social-item social-item--wide"},r.a.createElement("img",{src:"./images/social/whatsapp.png",alt:"logo whatsapp"}),r.a.createElement("p",{className:"footer-phone"},"+34 617 912 123"))),r.a.createElement("div",{className:"footer-wrapper"},r.a.createElement("div",{className:"social-item"},r.a.createElement("img",{src:"./images/social/instagram.png",alt:"logo instagram"}),r.a.createElement("p",null,"40k+ seguidores")),r.a.createElement("div",{className:"social-item"},r.a.createElement("img",{src:"./images/social/facebook.png",alt:"logo facebook"}),r.a.createElement("p",null,"25k+ seguidores")),r.a.createElement("div",{className:"social-item"},r.a.createElement("img",{src:"./images/social/youtube.png",alt:"logo youtube"}),r.a.createElement("p",null,"100k+ suscriptores")),r.a.createElement("div",{className:"social-item"},r.a.createElement("img",{src:"./images/social/twitter.png",alt:"logo twitter"}),r.a.createElement("p",null,"14k+ followers")))),r.a.createElement("div",{className:"section-footer"}),r.a.createElement("div",{className:"section-footer"})))}}]),t}(n.Component)),W=a(22),H=(a(155),a(55)),J=a.n(H),X=(a(201),a(79),a(111)),K=a.n(X),Y=(a(163),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).renderPositions=function(){return a.props.participation.position.map(function(e,t){return r.a.createElement("p",{key:t,className:"card-paid-position"},e)})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.participation,t=e.idCar,a=e.amount,n=this.props.participation.position.map(function(e,t){return r.a.createElement("p",{key:t,className:"card-paid-position"},e)});return r.a.createElement("div",{className:"card-paid"},r.a.createElement("div",{className:"container-card-paid name-card-paid"},r.a.createElement("img",{className:"card-paid-img",src:t.imageUrl,alt:"foto coche"}),r.a.createElement("p",null,t.name)),r.a.createElement("div",{className:"container-card-paid card-paid-list-positions"},n),r.a.createElement("img",{className:"card-paid-logo",src:"./images/paid.png",alt:""}),r.a.createElement("div",{className:"container-card-paid"},r.a.createElement("p",null,a,"\u20ac")))}}]),t}(n.Component));J.a.initializeApp({apiKey:"AIzaSyADazKB_Er76uObR6OP6I98OUOlpJqyYPI",authDomain:"we-rifs.firebaseapp.com",databaseURL:"https://we-rifs.firebaseio.com",projectId:"we-rifs",storageBucket:"we-rifs.appspot.com",messagingSenderId:"127152701531"});var Z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={username:"",password:"",adress:"",phone:"",email:"",progress:0,imageUrl:"",isLoading:!0,isUploading:!1,showButtonEdit:!1,avatar:""},a.handleUploadStart=function(){return a.setState({isUploading:!0,progress:0})},a.handleProgress=function(e){return a.setState({progress:e})},a.handleUploadError=function(e){a.setState({isUploading:!1}),console.error(e)},a.handleUploadSuccess=function(e){a.setState({avatar:e,progress:100,showButtonEdit:!0}),J.a.storage().ref("images").child(e).getDownloadURL().then(function(e){return a.setState({imageUrl:e,isUploading:!1})})},a.handleLogout=function(){a.props.resetParticipationState(),a.props.logout(),a.props.history.push("/")},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,r=a.state.adress,c=a.state.phone,i=a.state.email,l=a.state.imageUrl;a.props.updateUser({username:t,password:n,adress:r,phone:c,email:i,imageUrl:l}).catch(function(e){return console.log(e)}),a.setState({showButtonEdit:!1})},a.handleChange=function(e){var t,n=e.target,r=n.name,c=n.value;a.state.showButtonEdit||a.setState((t={},Object(W.a)(t,r,c),Object(W.a)(t,"showButtonEdit",!0),t));a.setState(Object(W.a)({},r,c))},a.renderListPaid=function(){return a.props.participationState.listPaid.map(function(e,t){return r.a.createElement(Y,{participation:e,key:"id-".concat(t)})})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log("cdm private");var e=this.props.user;this.setState({username:e.username,adress:e.adress,phone:e.phone,email:e.email,imageUrl:e.imageUrl,isLoading:!1})}},{key:"componentWillReceiveProps",value:function(e,t){var a=e.user,n=a.username,r=a.adress,c=a.phone,i=a.email,l=a.imageUrl;this.setState({username:n,adress:r,phone:c,email:i,imageUrl:l})}},{key:"render",value:function(){var e=this.props.user,t=this.props.user;t.username,t.adress,t.phone,t.email,t.imageUrl;console.log(e);var a=this.state.isUploading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-title"},r.a.createElement("span",{className:"title-line"}),r.a.createElement("h1",{className:"title-text-header"},"Bienvenido de nuevo ",e.username)),r.a.createElement("div",{className:"profile container"},!e&&r.a.createElement(w,null),e&&r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form-profile",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"profile-details"},r.a.createElement("div",{className:"profile-details-box"},r.a.createElement("div",{className:"profile-wrapper"},r.a.createElement("h2",null,"Detalles del perfil"),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"username",defaultValue:this.state.username,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"* Nombre completo")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"adress",defaultValue:this.state.adress,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"* Direcci\xf3n")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"phone",defaultValue:this.state.phone,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"* Tel\xe9fono")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"email",defaultValue:this.state.email,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"* Email")))),r.a.createElement("div",{className:"profile-details-box"},r.a.createElement("div",{className:"profile-wrapper profile-wrapper--img"},r.a.createElement("h2",null,"Imagen"),a&&r.a.createElement(w,null),!a&&r.a.createElement("div",{className:"component-input"},r.a.createElement("img",{className:"profile-img",src:this.state.imageUrl,alt:""})),r.a.createElement(K.a,{accept:"image/*",storageRef:J.a.storage().ref("images"),onUploadStart:this.handleUploadStart,onUploadError:this.handleUploadError,onUploadSuccess:this.handleUploadSuccess,onProgress:this.handleProgress,style:{backgroundColor:"steelblue",color:"white",padding:10,borderRadius:4,position:"absolute",bottom:"-66px",transform:"translate(-50%,-50%)",cursor:"pointer"}},"Sube una foto")))),this.state.showButtonEdit&&r.a.createElement(R,{type:"normal",text:"Guardar"})),r.a.createElement("div",{className:"container-title"},r.a.createElement("span",{className:"title-line"}),r.a.createElement("h1",{className:"title-text-header"},"Participaciones compradas")),r.a.createElement("div",{className:"container-cards-paid"},r.a.createElement("div",{className:"cards-paid-categories"},r.a.createElement("label",null,"Marca y modelo"),r.a.createElement("label",null,"Posiciones compradas"),r.a.createElement("label",null,"Precio")),this.state.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null)):this.renderListPaid()),r.a.createElement(R,{text:"Desconectar",onClick:this.handleLogout,type:"logout"}))))}}]),t}(n.Component),Q=Object(E.b)(function(e){return{user:e.user.user}},{updateUser:function(e){return function(t){return O.update(e).then(function(e){t({type:"UPDATE_USER",payload:e})})}},logout:function(){return function(e){return O.logout().then(function(){e({type:"LOGOUT"})})}},setUser:j})(T(Z)),$=(a(164),a(165),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.status;return r.a.createElement("div",{className:"alert-show"},r.a.createElement("div",{className:"container-rectangle"},r.a.createElement("div",{className:"rectangle rectangle--".concat(a)},r.a.createElement("img",{id:"alert-img",src:"./images/".concat(a,".png"),alt:"error"}),r.a.createElement("div",{className:"notification-text"},r.a.createElement("span",null,"\xa0\xa0",t)))))}}]),t}(n.Component)),ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",adress:"",phone:"",email:"",error:"",showError:!1},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,r=a.state.adress,c=a.state.phone,i=a.state.email;a.props.signup({username:t,password:n,adress:r,phone:c,email:i}).then(function(e){e?(a.setState({error:e.data.code,showError:!0}),a.timeout()):a.props.getParticipation().then(function(){a.props.history.push("/")})})},a.timeout=function(){a.timeoutId=setTimeout(function(){a.setState({showError:!1})},4e3)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(W.a)({},n,r))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timeoutId)}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.adress,c=e.phone,i=e.email,s=e.showError,o=e.error;return r.a.createElement("div",null,r.a.createElement("form",{className:"text-center",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"container-title"},r.a.createElement("span",{className:"title-line"}),r.a.createElement("h1",{className:"title-text-header"},"Crear una cuenta")),r.a.createElement("div",{className:"input-container"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{required:!0,className:"component-input--input",type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Nombre:")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{required:!0,className:"component-input--input",type:"password",name:"password",value:a,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Contrase\xf1a:")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{required:!0,className:"component-input--input",type:"text",name:"adress",value:n,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Direcci\xf3n:"))),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{required:!0,className:"component-input--input",type:"text",name:"phone",value:c,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Tel\xe9fono:")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{required:!0,className:"component-input--input",type:"email",name:"email",value:i,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Email:")))),r.a.createElement(R,{text:"Registrarse",type:"normal"}),s&&r.a.createElement($,{text:o,status:"error"}),r.a.createElement("p",null,"\xbfYa tienes una cuenta?",r.a.createElement(l.b,{to:"/login"}," Login"))))}}]),t}(n.Component),te=Object(L.a)(x,d.g,T)(ee),ae=(a(166),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:"",showError:!1},a.handleFormSubmit=function(){var e=Object(b.a)(v.a.mark(function e(t){var n,r,c,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state,r=n.username,c=n.password,i={username:r,password:c},a.props.login(i),i&&a.props.history.push("/");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.timeout=function(){a.timeoutId=setTimeout(function(){a.setState({showError:!1})},4e3)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(W.a)({},n,r))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timeoutId)}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.showError,c=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-title"},r.a.createElement("span",{className:"title-line"}),r.a.createElement("h1",{className:"title-text-header"},"Iniciar sesi\xf3n")),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{required:!0,className:"component-input--input",type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Usuario:")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{required:!0,className:"component-input--input",type:"password",name:"password",value:a,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Contrase\xf1a:")),r.a.createElement("p",null,"\xbfA\xfan no est\xe1s registrado?",r.a.createElement(l.b,{to:"/signup"}," Reg\xedstrate")),r.a.createElement(R,{text:"Iniciar sesi\xf3n",type:"done"}),n&&r.a.createElement($,{text:c,status:"error"}))))}}]),t}(n.Component)),ne=Object(E.b)(null,{login:function(e){return function(t){return O.login(e).then(function(e){t({type:"LOGIN",payload:e})})}}})(ae),re=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404 - Not found"))}}]),t}(n.Component),ce=(a(167),new(function(){function e(){Object(s.a)(this,e),this.cars=y.a.create({baseURL:"https://werifs.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"list",value:function(){return this.cars.get("/cars/").then(function(e){return e.data})}},{key:"create",value:function(e){var t=e.name,a=e.power,n=e.retailPrice,r=e.velocity,c=e.torque,i=e.contamination,l=e.drivetrain,s=e.imageUrl,o=e.price1,u=e.price5,m=e.price10;return this.cars.post("/cars/create",{name:t,power:a,retailPrice:n,velocity:r,torque:c,contamination:i,drivetrain:l,imageUrl:s,price1:o,price5:u,price10:m}).then(function(e){return e.data})}}]),e}())),ie=(a(168),a(169),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={numParticipations:0,isLoading:!1,isOnCart:!1,showMessage:!1},a.handleClickAdd=function(e){if(e.preventDefault(),a.props.isLogged){var t={idCar:a.props.idCar,numParticipations:a.state.numParticipations};a.props.addParticipation(t),a.setState({numParticipations:0})}else a.setState({showMessage:!0}),a.timeout()},a.timeout=function(){a.timeoutId=setTimeout(function(){a.setState({showMessage:!1})},4e3)},a.updateButton=function(){var e=a.props.participations,t=!1;return e?(e.map(function(e){e.idCar._id===a.props.idCar&&(t=!0)}),t?r.a.createElement(R,{disabled:t,text:"A\xf1adido!",type:"done",onClick:a.handleClickAdd}):r.a.createElement(R,{text:"A\xf1adir al carrito",type:"normal",onClick:a.handleClickAdd})):r.a.createElement(R,{text:"A\xf1adir al carrito",onClick:a.handleClickAdd})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timeoutId)}},{key:"render",value:function(){var e=this.state.showMessage;return r.a.createElement(r.a.Fragment,null,this.updateButton(),e&&r.a.createElement($,{text:"Es necesario iniciar sesi\xf3n para a\xf1adir al carrito",status:"error"}))}}]),t}(n.Component)),le=Object(E.b)(function(e){return{participations:e.participations.participations}},{addParticipation:function(e){return{type:"ADD_PARTICIPATION",payload:e}}})(ie),se=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.car,t=e._id,a=e.name,n=e.power,c=e.retailPrice,i=e.velocity,l=e.torque,s=e.contamination,o=e.drivetrain,u=e.imageUrl,m=e.price1,p=e.price5,d=e.price10;return r.a.createElement("div",{className:"car-card"},r.a.createElement("div",{className:"pj-card"},r.a.createElement("img",{src:u,className:"img-fluid",alt:""}),r.a.createElement("div",{className:"car-card-description"},r.a.createElement("h4",null,a),r.a.createElement("div",{className:"car-details"},r.a.createElement("ul",null,r.a.createElement("li",{className:"li-imp"},r.a.createElement("span",null,"Potencia: "),n," Cv"),r.a.createElement("li",null,r.a.createElement("span",null,"Precio: "),c," \u20ac"),r.a.createElement("li",{className:"li-imp"},r.a.createElement("span",null,"Vel.: "),i," Km/h")),r.a.createElement("ul",null,r.a.createElement("li",{className:"li-imp"},r.a.createElement("span",null,"Par: "),l," Nm"),r.a.createElement("li",null,r.a.createElement("span",null,"Co2: "),s," gr/km"),r.a.createElement("li",{className:"li-imp"},r.a.createElement("span",null,"Tracci\xf3n: "),o)),r.a.createElement("div",{className:"car-prices"},r.a.createElement("label",{className:"label-prices"},"Precio por participacion"),r.a.createElement("p",null,r.a.createElement("span",null,"1")," ",m,"\u20ac/u"),r.a.createElement("p",null,r.a.createElement("span",null,"5+")," ",p,"\u20ac/u"),r.a.createElement("p",null,r.a.createElement("span",null,"10+")," ",d,"\u20ac/u"))),r.a.createElement(le,{idCar:t}))))}}]),t}(n.Component),oe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.list();case 2:t=e.sent,this.props.addCars(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderCarList",value:function(){return this.props.cars.map(function(e,t){return r.a.createElement(se,{key:"id-".concat(t),car:e})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"homepage"},r.a.createElement("section",{className:"container--wide"},r.a.createElement("div",{className:"initial-banner"},r.a.createElement("h1",null,"GANA EL COCHE DE TUS SUE\xd1OS"))),r.a.createElement("section",{className:"container"},r.a.createElement("span",{className:"section-line"}),r.a.createElement("h1",{className:"section-text-header"},"\xbfC\xd3MO FUNCIONA?"),r.a.createElement("div",{className:"how-works"},r.a.createElement("div",{className:"card-how-works"},r.a.createElement("div",{className:"card-how-works-img"},r.a.createElement("img",{src:"./images/icon-select-car.png",alt:""}),r.a.createElement("label",null,"1")),r.a.createElement("p",{className:"card-how-works-title"},"Selecciona el coche")),r.a.createElement("div",{className:"card-how-works"},r.a.createElement("div",{className:"card-how-works-img"},r.a.createElement("img",{src:"./images/icon-game.png",alt:""}),r.a.createElement("label",null,"2")),r.a.createElement("p",{className:"card-how-works-title"},"Juega al juego")),r.a.createElement("div",{className:"card-how-works"},r.a.createElement("div",{className:"card-how-works-img"},r.a.createElement("img",{src:"./images/icon-win.png",alt:""}),r.a.createElement("label",null,"3")),r.a.createElement("p",{className:"card-how-works-title"},"Cada mes un coche")))),r.a.createElement("section",{className:"container"},r.a.createElement("span",{className:"section-line"}),r.a.createElement("h1",{className:"section-text-header"},"COCHES DISPONIBLES"),r.a.createElement("div",{className:"list-cars"},this.props.cars?this.renderCarList():r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null)))))}}]),t}(n.Component),ue=Object(E.b)(function(e){return{cars:e.cars.cars}},{addCars:function(e){return{type:"ADD_CARS",payload:e}}})(oe),me=(a(170),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",power:"",retailPrice:"",velocity:"",torque:"",contamination:"",drivetrain:"",imageUrl:"",price1:"",price5:"",price10:""},a.handleFormSubmit=function(){var e=Object(b.a)(v.a.mark(function e(t){var n,r,c,i,l,s,o,u,m,p,d,h,E;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.name,c=n.power,i=n.retailPrice,l=n.velocity,s=n.torque,o=n.contamination,u=n.drivetrain,m=n.imageUrl,p=n.price1,d=n.price5,h=n.price10,e.next=4,ce.create({name:r,power:c,retailPrice:i,velocity:l,torque:s,contamination:o,drivetrain:u,imageUrl:m,price1:p,price5:d,price10:h});case 4:E=e.sent,a.props.addNewCar(E),a.props.history.push("/");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(W.a)({},n,r))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.power,n=e.retailPrice,c=e.velocity,i=e.torque,l=e.contamination,s=e.drivetrain,o=e.imageUrl,u=e.price1,m=e.price5,p=e.price10;return r.a.createElement("form",{className:"form-create-cars",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"container-title"},r.a.createElement("span",{className:"title-line"}),r.a.createElement("h1",{className:"title-text-header"},"A\xf1adir coche")),r.a.createElement("div",{className:"create-cars-details"},r.a.createElement("div",{className:"create-cars-details-box"},r.a.createElement("div",{className:"create-cars-wrapper"},r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"name",value:t,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Marca y modelo:")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"power",value:a,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Potencia")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"retailPrice",value:n,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Precio:")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"velocity",value:c,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Velocidad m\xe1xima:"))),r.a.createElement("div",{className:"create-cars-wrapper"},r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"torque",value:i,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Par motor:")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"contamination",value:l,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Co2:")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"drivetrain",value:s,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Tracci\xf3n")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"imageUrl",value:o,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Url imagen:"))),r.a.createElement("div",{className:"create-cars-wrapper"},r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"price1",value:u,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Precio 1 unidad:")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"price5",value:m,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Precio 5 unidades")),r.a.createElement("div",{className:"component-input"},r.a.createElement("input",{className:"component-input--input",type:"text",name:"price10",value:p,onChange:this.handleChange}),r.a.createElement("label",{className:"label-component-input"},"Precio 10 unidades"))))),r.a.createElement(R,{type:"normal",text:"Crear coche"}))}}]),t}(n.Component)),pe=Object(E.b)(null,{addNewCar:function(e){return{type:"ADD_NEW_CAR",payload:e}}})(me),de=a(42),he=new(function(){function e(){Object(s.a)(this,e),this.checkout=y.a.create({baseURL:"https://werifs.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"create",value:function(e,t,a){return this.checkout.post("/checkout/",{amount:100*e,token:t,listParticipation:a}).then(function(e){return e.data})}}]),e}()),Ee=(a(176),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0,isPaymentLoading:!1,showMessage:!1,amount:1},a.handleClick=Object(b.a)(v.a.mark(function e(){var t,n,r,c,i,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.props.stripe,n=a.props.participationState.amount,r=a.props.user.username,c=a.props.participationState.listParticipation,e.next=7,t.createToken({name:r});case 7:return(i=e.sent).error||a.setState({isPaymentLoading:!0}),l=i.token.id,e.next=12,he.create(n,l,c);case 12:e.sent&&(a.setState({isPaymentLoading:!1,showMessage:!0}),a.timeout()),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(0);case 18:case"end":return e.stop()}},e,null,[[0,16]])})),a.timeout=function(){a.timeoutId=setTimeout(function(){a.props.getParticipation()},3900)},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.changeShowCard(),console.log(this.props.participationState.amount),this.setState({isLoading:!1,amount:this.props.participationState.amount})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeoutId)}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.showMessage,n=this.props.participationState.amount;return r.a.createElement("div",{className:"container stripe"},n>0&&r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(w,null),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"stripe-wrapper"},r.a.createElement("h1",null,"Detalles del pago:"),r.a.createElement("p",{className:"stripe-total-amount"},r.a.createElement("span",null,"Total:")," ",n,"\u20ac"),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"stripe-input"},r.a.createElement("label",{className:"stripe-label",htmlFor:"card-element"},"Tarjeta de credito"),r.a.createElement("div",{id:"card-element"},r.a.createElement(de.CardElement,{className:"StripeElement",style:{base:{iconColor:"#00041A",fontWeight:400,fontSize:"15px","::placeholder":{color:"#555"}}}}))),r.a.createElement("div",{id:"card-errors",role:"alert"})),r.a.createElement(R,{type:"normal",text:this.state.isPaymentLoading?"Loading":"Pagar",onClick:this.handleClick}),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement($,{text:"Pago realizado correctamente",status:"done"}))))),0===n&&this.props.history.push("/"))}}]),t}(n.Component)),ge=Object(L.a)(de.injectStripe,T,x)(Ee),fe=a(48),ve=(a(198),a(199),T(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={slider:5e3,position:[],showInstructions:!0},a.handleSlider=function(e){e.preventDefault();var t=a.props.location.state._id,n=a.state.slider;a.props.updateParticipation({_id:t,position:n})},a.handleClick=function(e){a.setState({slider:a.state.slider+parseInt(e.target.value)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(W.a)({},n,parseInt(r)))},a.handleShowInstructions=function(){a.setState({showInstructions:!1})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"renderListCars",value:function(){return this.state.position.map(function(e,t){return r.a.createElement("li",null,"Posicion: ",e)})}},{key:"componentDidMount",value:function(){this.props.changeGameMode(),this.props.changeShowCard()}},{key:"componentWillUnmount",value:function(){this.props.changeGameMode()}},{key:"render",value:function(){var e=this.props.participationState.listParticipation.length,t=this.state.showInstructions;return r.a.createElement("div",{className:"game"},e&&r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"game-instructions"},r.a.createElement("h1",null,"C\xf3mo se juega"),r.a.createElement("p",null,"Ver\xe1s un v\xeddeo de 3 segundos donde saldr\xe1 una pelota y tendr\xe1s que marcar con el slider d\xf3nde crees que caer\xe1."),r.a.createElement("p",null,"Tendr\xe1s tres botones en la parte inferior:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"A\xf1adir posici\xf3n:")," Te permite a\xf1adir al carrito la posici\xf3n deseada."),r.a.createElement("li",null,r.a.createElement("span",null,"+ y -:")," Te permite subir o bajar de posici\xf3n por unidades, para ser m\xe1s preciso.")),r.a.createElement(R,{type:"error",onClick:this.handleShowInstructions,text:"Cerrar"}))),r.a.createElement("span",{className:"title-line"}),r.a.createElement("h1",{className:"title-text-header"},"JUEGO"),r.a.createElement("div",{className:"game-video"},r.a.createElement(fe.Player,{ref:"player",src:"./video/video-inicio.mp4"},r.a.createElement(fe.BigPlayButton,{position:"center"}),r.a.createElement(fe.ControlBar,{autoHideTime:1e3,autoHide:!0,disableDefaultControls:!0},r.a.createElement(fe.PlayToggle,null))),r.a.createElement("form",{onSubmit:this.handleSlider},r.a.createElement("input",{onChange:this.handleChange,name:"slider",type:"range",min:"1",max:"10000",value:this.state.slider,className:"game-slider"}),r.a.createElement("p",{className:"game-position"},r.a.createElement("span",null,"Posici\xf3n:")," ",this.state.slider)),r.a.createElement("div",{className:"game-buttons"},r.a.createElement(R,{text:"-",type:"error",value:"-1",onClick:this.handleClick}),r.a.createElement(R,{text:"A\xf1adir posici\xf3n",type:"normal",onClick:this.handleSlider}),r.a.createElement(R,{text:"+",type:"done",value:"1",onClick:this.handleClick})),this.renderListCars())),!e&&this.props.history.push("/"))}}]),t}(n.Component))),be=a(31),Ne=a(112),ye=a(47),Oe=a(26),Ce={cars:[]},we={participations:[]},je={user:[]},ke=Object(be.combineReducers)({cars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CARS":return Object(Oe.a)({},e,{cars:t.payload});case"ADD_NEW_CAR":return Object(Oe.a)({},e,{cars:[].concat(Object(ye.a)(e.cars),[t.payload])});default:return e}},participations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PARTICIPATIONS":return Object(Oe.a)({},e);case"ADD_PARTICIPATION":case"DELETE_PARTICIPATION":return Object(Oe.a)({},e,{participation:[].concat(Object(ye.a)(e.participation),[t.payload])});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER":case"LOGIN":case"SET_USER":return Object(Oe.a)({},e,{user:t.payload});case"LOGOUT":return Object(Oe.a)({},e,{user:[]});default:return e}}}),Se=[Ne.a],Pe=Object(be.createStore)(ke,{},Object(be.compose)(be.applyMiddleware.apply(void 0,Se),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),xe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{store:Pe},r.a.createElement(M,null,r.a.createElement(de.StripeProvider,{exact:!0,apiKey:"pk_test_bCVmuIR36FGdiCbTo1dxtji400jIZtcgOB"},r.a.createElement(de.Elements,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null),r.a.createElement("div",{className:"body"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:ue}),r.a.createElement(A,{exact:!0,path:"/signup",component:te}),r.a.createElement(A,{exact:!0,path:"/login",component:ne}),r.a.createElement(g,{exact:!0,path:"/private",component:Q}),r.a.createElement(I,{exact:!0,path:"/create",component:pe}),r.a.createElement(g,{exact:!0,path:"/game",component:ve}),r.a.createElement(g,{exact:!0,path:"/checkout",component:ge}),r.a.createElement(d.b,{path:"",component:re}))),r.a.createElement(z,null))))))}}]),t}(n.Component);i.a.render(r.a.createElement(l.a,null,r.a.createElement(xe,null)),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.f6f73bad.chunk.js.map